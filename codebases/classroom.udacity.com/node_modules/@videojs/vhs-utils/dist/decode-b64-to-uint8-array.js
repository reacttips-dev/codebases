/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */
'use strict';

function _interopDefault(ex) {
    return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex;
}

var window = _interopDefault(require('global/window'));

var atob = function atob(s) {
    return window.atob ? window.atob(s) : Buffer.from(s, 'base64').toString('binary');
};

function decodeB64ToUint8Array(b64Text) {
    var decodedString = atob(b64Text);
    var array = new Uint8Array(decodedString.length);

    for (var i = 0; i < decodedString.length; i++) {
        array[i] = decodedString.charCodeAt(i);
    }

    return array;
}

module.exports = decodeB64ToUint8Array;